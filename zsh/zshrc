# Path to your oh-my-zsh installation.
export ZSH=/home/luc/.oh-my-zsh

# Themes (random, agnoster, bira, bureau, gallois)
# ZSH_THEME="bira"
# Parth's prompt
source $HOME/Dev/dotfiles/zsh/prompt.sh

# Plugins
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
plugins=(git laravel5 colored-man-pages colorize z zsh-syntax-highlighting zsh-autosuggestions)

source $ZSH/oh-my-zsh.sh

HYPHEN_INSENSITIVE="true"
export EDITOR='vim'

# Set CapsLock to act as Escape on tap and Ctrl on hold
setxkbmap -option ctrl:nocaps
xcape -e 'Control_L=Escape' 

# Aliases
source $HOME/Dev/dotfiles/zsh/aliases.sh

# Bindings{{{
# Executes ls on dir change
chpwd() ls -h --group-directories-first

# git
	function git_prepare() {
		if [ -n "$BUFFER" ];
			then
				BUFFER="git add -A; git commit -m \"$BUFFER\" && git push"
		fi

		if [ -z "$BUFFER" ];
			then
				BUFFER="git add -A; git commit -v && git push"
		fi

		zle accept-line
	}
	zle -N git_prepare
	bindkey "^g" git_prepare

# home
	function go_back() {
		BUFFER="cd .."
		# zle end-of-line
		zle accept-line
	}
	zle -N go_back
	bindkey "^b" go_back

# Edit and rerun
	function edit_and_run() {
		BUFFER="fc"
		zle accept-line
	}
	zle -N edit_and_run
	bindkey "^v" edit_and_run

# LS
	function ctrl_l() {
		BUFFER="cl"
		zle accept-line
	}
	zle -N ctrl_l
	bindkey "^q" ctrl_l

# Sudo
	function add_sudo() {
		BUFFER="sudo !!"
		zle end-of-line
	}
	zle -N add_sudo
	bindkey "^s" add_sudo
# }}}

# Launch tmux with screen-256color
# if [[ -n "$TMUX" ]] && [[ ! -e "/root/.automatic_start_occurred" ]];then
# 	export TERM=screen-256color
# fi
